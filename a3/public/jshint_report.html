<!DOCTYPE html>
<html lang="en">
<head>
    <title>JSHint Report</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
</head>
<body>

<div class="container-fluid">
    <table class="table table-hover">
        <tr>
            <th class="text-center">Code</th>
            <th class="text-center">Line</th>
            <th class="text-center">Column</th>
            <th>Evidence</th>
            <th>Reason</th>
        </tr>
        <tr><td colspan="5"><b>js/collections/movies.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/collections/reviews.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/collections/users.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/main.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">45</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">54</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">114</td>
    <td class="text-center">45</td>
    <td><code>                    success: function&#40;coll&#44; resp&#41; &#123;</code></td>
    <td>&#39;resp&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/models/movie.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W014</td>
    <td class="text-center">29</td>
    <td class="text-center">17</td>
    <td><code>				&#43; &#39; with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;;</code></td>
    <td>Bad line breaking before &#39;&#43;&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W014</td>
    <td class="text-center">44</td>
    <td class="text-center">17</td>
    <td><code>				&#43; &#39; with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;;</code></td>
    <td>Bad line breaking before &#39;&#43;&#39;.</td>
</tr><tr><td colspan="5"><b>js/models/review.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/models/user.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&#39;use strict&#39;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/splat-min.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">2</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">199</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">223</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">224</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">254</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">255</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">308</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;a&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">359</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">438</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">491</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;var&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">525</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;var&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">2</td>
    <td class="text-center">530</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;c&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">2</td>
    <td class="text-center">565</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;c&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">2</td>
    <td class="text-center">605</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;c&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">614</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">615</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">669</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;var&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">703</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;var&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">2</td>
    <td class="text-center">708</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;b&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">2</td>
    <td class="text-center">743</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;b&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">2</td>
    <td class="text-center">786</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>&#39;b&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">796</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">797</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">1016</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1017</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1070</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">1524</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1525</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W058</td>
    <td class="text-center">2</td>
    <td class="text-center">1573</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing &#39;&#40;&#41;&#39; invoking a constructor.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1737</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1808</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">1809</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">1810</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2048</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2178</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2307</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">2307</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2308</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2405</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W116</td>
    <td class="text-center">2</td>
    <td class="text-center">2468</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected &#39;&#123;&#39; and instead saw &#39;if&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W018</td>
    <td class="text-center">2</td>
    <td class="text-center">2556</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Confusing use of &#39;&#33;&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">2575</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2576</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">2632</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W058</td>
    <td class="text-center">2</td>
    <td class="text-center">2942</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing &#39;&#40;&#41;&#39; invoking a constructor.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">2</td>
    <td class="text-center">3014</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">3470</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">3613</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">3782</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">2</td>
    <td class="text-center">3918</td>
    <td><code>&quot;use strict&quot;;var splat&#61;splat||&#123;&#125;;splat.utils&#61;&#123;loadTemplates:function&#40;a&#44;b&#41;&#123;var c&#61;&#91;&#93;;&#36;.each&#40;a&#44;function&#40;a&#44;b&#41;&#123;splat&#91;b&#93;?c.push&#40;&#36;.get&#40;&quot;tpl/&quot;&#43;b&#43;&quot;.html&quot;&#44;function&#40;a&#41;&#123;splat&#91;b&#93;.prototype.template&#61;_.template&#40;a&#41;&#125;&#41;&#41;:alert&#40;b&#43;&quot; not found&quot;&#41;&#125;&#41;&#44;&#36;.when.apply&#40;null&#44;c&#41;.done&#40;b&#41;&#125;&#44;displayValidationErrors:function&#40;a&#41;&#123;for&#40;var b in a&#41;a.hasOwnProperty&#40;b&#41;&amp;&amp;this.addValidationError&#40;b&#44;a&#91;b&#93;&#41;;this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Fix validation errors and try again&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addValidationError:function&#40;a&#44;b&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var c&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var c&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;c.addClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;c&#41;.html&#40;b&#41;&#125;&#44;removeValidationError:function&#40;a&#41;&#123;if&#40;&quot;synopsis&quot;&#61;&#61;&#61;a&#41;var b&#61;&#36;&#40;&quot;textarea&quot;&#41;.parent&#40;&#41;;else var b&#61;&#36;&#40;&quot;input&#91;name&#61;&#39;&quot;&#43;a&#43;&quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;b.removeClass&#40;&quot;has-error&quot;&#41;&#44;&#36;&#40;&quot;.help-block&quot;&#44;b&#41;.html&#40;&quot;&quot;&#41;&#125;&#44;showAlert:function&#40;a&#44;b&#44;c&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.removeClass&#40;&quot;alert-danger alert-warning alert-success alert-info&quot;&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.addClass&#40;c&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.html&#40;&quot;&lt;strong&gt;&quot;&#43;a&#43;&quot;&lt;/strong&gt; &quot;&#43;b&#41;&#44;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.show&#40;&#41;.fadeOut&#40;5e3&#41;&#125;&#44;hideAlert:function&#40;&#41;&#123;&#36;&#40;&quot;.alert&quot;&#41;.stop&#40;&#33;0&#44;&#33;0&#41;.hide&#40;&#41;&#125;&#44;requestFailed:function&#40;a&#41;&#123;a.responseText.indexOf&#40;&#39;&quot;status&quot;:403&#39;&#41;&gt;-1?&#40;splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;Please Sign-In to complete this action&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#logoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.logout&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.login&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#logindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#41;:splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#44;uploadFile:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var e&#61;this&#44;f&#61;new FormData;f.append&#40;&quot;file&quot;&#44;c&#41;&#44;f.append&#40;&quot;userid&quot;&#44;b&#41;&#44;&#36;.ajax&#40;&#123;url:&quot;/movies/&quot;&#43;a&#43;&quot;/image&quot;&#44;type:&quot;POST&quot;&#44;data:f&#44;processData:&#33;1&#44;cache:&#33;1&#44;contentType:&#33;1&#125;&#41;.done&#40;function&#40;a&#41;&#123;d&#40;a&#41;&#125;&#41;.fail&#40;function&#40;a&#41;&#123;e.showAlert&#40;&quot;Error&#33;&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#41;&#125;&#125;;var splat&#61;splat||&#123;&#125;;splat.Review&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.reviewname&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s name required&quot;&#125;&#125;&#44;this.validators.reviewaffil&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;reviewer&#39;s affiliation required&quot;&#125;&#125;&#44;this.validators.reviewtext&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter some review text&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;freshness:1&#44;reviewtext:&quot;&quot;&#44;reviewname:&quot;&quot;&#44;reviewaffil:&quot;&quot;&#44;movieid:null&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviews&#61;Backbone.Collection.extend&#40;&#123;model:splat.Review&#44;url:&quot;/movies/:id/reviews&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movie&#61;Backbone.Model.extend&#40;&#123;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.reviews&#61;new splat.Reviews&#44;this.reviews.url&#61;&quot;/movies/&quot;&#43;this.id&#43;&quot;/reviews&quot;&#44;this.validators&#61;&#123;&#125;;var a&#61;/^&#40;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#91;a-zA-Z0-9&#93;&#43;&#91;\ \&#44;\.\?\-\&#39;\*&#93;*&#41;&#43;&#36;/&#44;b&#61;/^&#40;19&#91;1-9&#93;\d&#41;|&#40;200\d&#41;|&#40;201&#91;0-6&#93;&#41;&#36;/&#44;c&#61;/^&#40;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;&#40;&#44;&#91;\w\-\&#39;&#93;&#43;&#40;\s&#91;\w\-\&#39;&#93;&#43;&#41;*&#41;*&#36;/&#44;d&#61;/^G|&#40;PG&#41;|&#40;PG-13&#41;|R|&#40;NC-17&#41;|&#40;NR&#41;&#36;/&#44;e&#61;/^&#40;\d&#41;|&#40;\d\d&#41;|\d&#123;3&#125;&#36;/&#44;f&#61;/^\w&#43;&#40;\s&#43;\w&#43;&#41;*&#36;/&#44;g&#61;/^&#40;https?:\/\/\w&#43;&#40;\.\w&#43;&#41;*&#40;:\d&#43;&#41;?&#40;\/&#91;\w\.#&#93;&#43;&#41;*\/?&#41;?&#36;/;this.validators.title&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.released&#61;function&#40;a&#41;&#123;return a&amp;&amp;b.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Release Date must be from 1910 to 2016 inclusive&quot;&#125;&#125;&#44;this.validators.director&#61;function&#40;b&#41;&#123;return b&amp;&amp;a.test&#40;b&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&#39;Must be: one or more letters-digits-spaces with one or more of &quot; &#44;.?-\&#39;*&quot; &#39;&#125;&#125;&#44;this.validators.rating&#61;function&#40;a&#41;&#123;return a&amp;&amp;d.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter a valid MPAA rating&#44; e.g. PG&quot;&#125;&#125;&#44;this.validators.starring&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;At least one star must be listed&quot;&#125;&#125;&#44;this.validators.duration&#61;function&#40;a&#41;&#123;return a&amp;&amp;e.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Duration must be in the range 0 to 999&quot;&#125;&#125;&#44;this.validators.genre&#61;function&#40;a&#41;&#123;return a&amp;&amp;c.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;You must enter at least one genre&quot;&#125;&#125;&#44;this.validators.synopsis&#61;function&#40;a&#41;&#123;return a&amp;&amp;f.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Synopsis must consist of a non-empty word list&quot;&#125;&#125;&#44;this.validators.trailer&#61;function&#40;a&#41;&#123;return&quot;&quot;&#61;&#61;&#61;a||g.test&#40;a&#41;?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;Trailer must be empty or a valid URL&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#44;defaults:&#123;title:&quot;&quot;&#44;released:null&#44;director:&quot;&quot;&#44;starring:&#91;&#93;&#44;rating:&quot;&quot;&#44;duration:null&#44;genre:&quot;&quot;&#44;synopsis:&quot;&quot;&#44;freshTotal:0&#44;freshVotes:0&#44;trailer:&quot;&quot;&#44;poster:&quot;img/placeholder.png&quot;&#44;dated:new Date&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Movies&#61;Backbone.Collection.extend&#40;&#123;model:splat.Movie&#44;url:&quot;/movies&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.User&#61;Backbone.Model.extend&#40;&#123;urlRoot:&quot;/auth&quot;&#44;idAttribute:&quot;_id&quot;&#44;initialize:function&#40;&#41;&#123;this.validators&#61;&#123;&#125;&#44;this.validators.username&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;username required&quot;&#125;&#125;&#44;this.validators.email&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;email required&quot;&#125;&#125;&#44;this.validators.password&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#44;this.validators.password2&#61;function&#40;a&#41;&#123;return a&amp;&amp;a.length&gt;0?&#123;isValid:&#33;0&#125;:&#123;isValid:&#33;1&#44;message:&quot;password required&quot;&#125;&#125;&#125;&#44;validateItem:function&#40;a&#41;&#123;return this.validators&#91;a&#93;?this.validators&#91;a&#93;&#40;this.get&#40;a&#41;&#41;:&#123;isValid:&#33;0&#125;&#125;&#44;validateAll:function&#40;&#41;&#123;var a&#61;&#123;&#125;;for&#40;var b in this.validators&#41;if&#40;this.validators.hasOwnProperty&#40;b&#41;&#41;&#123;var c&#61;this.validators&#91;b&#93;&#40;this.get&#40;b&#41;&#41;;c.isValid&#61;&#61;&#61;&#33;1&amp;&amp;&#40;a&#91;b&#93;&#61;c.message&#41;&#125;return _.size&#40;a&#41;&gt;0?&#123;isValid:&#33;1&#44;messages:a&#125;:&#123;isValid:&#33;0&#125;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Users&#61;Backbone.Collection.extend&#40;&#123;model:splat.User&#44;url:&quot;/auth&quot;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Header&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;signedUp&quot;&#44;this.signedUp&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedIn&quot;&#44;this.signedIn&#41;&#44;this.listenTo&#40;Backbone&#44;&quot;signedOut&quot;&#44;this.signedOut&#41;&#125;&#44;events:&#123;&quot;change input&#91;name&#61;sortOrder&#93;&quot;:&quot;sortOrder&quot;&#125;&#44;render:function&#40;&#41;&#123;this.&#36;el.html&#40;this.template&#40;&#41;&#41;;var a&#61;new splat.User;return this.signupform&#61;new splat.Signup&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signupDiv&quot;&#41;.append&#40;this.signupform.render&#40;&#41;.el&#41;&#44;this.signinform&#61;new splat.Signin&#40;&#123;model:a&#125;&#41;&#44;this.&#36;&#40;&quot;#signinDiv&quot;&#41;.append&#40;this.signinform.render&#40;&#41;.el&#41;&#44;this&#125;&#44;authenticatedUI:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;a.username&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&lt;b&gt;&quot;&#43;a.username&#43;&quot;&lt;/b&gt;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.show&#40;&#41;&#125;&#44;signedUp:function&#40;a&#41;&#123;&#36;&#40;&quot;#signupdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;.signinput&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signupForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedIn:function&#40;a&#41;&#123;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;#signinForm&quot;&#41;&#91;0&#93;.reset&#40;&#41;&#44;this.authenticatedUI&#40;a&#41;&#125;&#44;signedOut:function&#40;a&#41;&#123;&#36;&#40;&quot;#greet&quot;&#41;.html&#40;&quot;Sign In&quot;&#41;&#44;&#36;&#40;&quot;#signoutUser&quot;&#41;.html&#40;&quot;&quot;&#41;&#44;&#36;&#40;&quot;.btn.signoutSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;none&quot;&#41;&#44;&#36;&#40;&quot;.btn.signinSubmit&quot;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&#39;&#91;class*&#61;&quot;signin&quot;&#93;&#39;&#41;.css&#40;&quot;display&quot;&#44;&quot;block&quot;&#41;&#44;&#36;&#40;&quot;#signindrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;&#36;&#40;&quot;#addMovie&quot;&#41;.hide&#40;&#41;&#125;&#44;sortOrder:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;splat.order&#61;a.target.value&#44;Backbone.trigger&#40;&quot;orderevent&quot;&#44;a&#41;&#44;&#36;&#40;&quot;#orderdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#125;&#44;selectMenuItem:function&#40;a&#41;&#123;&#36;&#40;&quot;.nav li&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#44;a&amp;&amp;&#36;&#40;&quot;.&quot;&#43;a&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Home&#61;Backbone.View.extend&#40;&#123;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signup&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signupForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signup&quot;:&quot;change&quot;&#44;&quot;click .signupSubmit&quot;:&quot;signup&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;var b&#61;this;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var c&#61;&#123;&#125;;c&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;c&#41;;var d;&quot;password&quot;&#61;&#61;&#61;a.target.name||&quot;password2&quot;&#61;&#61;&#61;a.target.name?b.&#36;&#40;&quot;#signup_password&quot;&#41;.val&#40;&#41;&#33;&#61;&#61;b.&#36;&#40;&quot;#signup_password2&quot;&#41;.val&#40;&#41;?d&#61;&#123;isValid:&#33;1&#44;message:&quot;Password values must match&quot;&#125;:&#40;d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;splat.utils.removeValidationError&#40;&quot;password&quot;&#41;&#44;splat.utils.removeValidationError&#40;&quot;password2&quot;&#41;&#41;:d&#61;this.model.validateItem&#40;a.target.name&#41;&#44;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#125;&#44;signup:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateAll&#40;&#41;;return c.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;c.messages&#41;&#44;&#33;1&#41;:void this.model.save&#40;null&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signup Failed&quot;&#44;&quot;Failed to create account&quot;&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signup Successful&#33;&quot;&#44;&quot;Welcome &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedUp&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Signin&#61;Backbone.View.extend&#40;&#123;el:&#39;&lt;form id&#61;&quot;signinForm&quot; accept-charset&#61;&quot;UTF-8&quot;&gt;&#39;&#44;events:&#123;&quot;change .signinput&quot;:&quot;change&quot;&#44;&quot;click .signinSubmit&quot;:&quot;signin&quot;&#44;&quot;click .signoutSubmit&quot;:&quot;signout&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;&#44;this.model||&#40;this.model&#61;new splat.User&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;;var c&#61;this.model.validateItem&#40;a.target.name&#41;;c.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;c.message&#41;&#125;&#44;signin:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;;var b&#61;this&#44;c&#61;b.model.validateItem&#40;&quot;username&quot;&#41;;c.isValid?splat.utils.removeValidationError&#40;&quot;username&quot;&#41;:splat.utils.addValidationError&#40;&quot;username&quot;&#44;c.message&#41;;var d&#61;b.model.validateItem&#40;&quot;password&quot;&#41;;return d.isValid?splat.utils.removeValidationError&#40;&quot;password&quot;&#41;:splat.utils.addValidationError&#40;&quot;password&quot;&#44;d.message&#41;&#44;c.isValid&amp;&amp;d.isValid?&#40;this.model.set&#40;&#123;login:1&#125;&#41;&#44;void this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;b.error?splat.utils.showAlert&#40;&quot;Signin Failed&quot;&#44;b.error&#44;&quot;alert-danger&quot;&#41;:&#40;splat.userid&#61;b.userid&#44;splat.username&#61;b.username&#44;splat.utils.showAlert&#40;&quot;Signin Successful&#33;&quot;&#44;&quot;Welcome back &quot;&#43;splat.username&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedIn&quot;&#44;b&#41;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#41;:&#33;1&#125;&#44;signout:function&#40;a&#41;&#123;a.preventDefault&#40;&#41;&#44;&#36;&#40;&quot;#logoutdrop&quot;&#41;.removeClass&#40;&quot;open&quot;&#41;&#44;this.model.set&#40;&#123;login:0&#44;username:&quot;&quot;&#44;password:&quot;&quot;&#125;&#41;&#44;this.model.save&#40;null&#44;&#123;type:&quot;put&quot;&#44;success:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Signout Successful&#33;&quot;&#44;&quot;Please Come Back Soon&quot;&#44;&quot;alert-success&quot;&#41;&#44;Backbone.trigger&#40;&quot;signedOut&quot;&#44;b&#41;&#125;&#44;error:function&#40;a&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;a.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.About&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.render&#40;&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieThumb&#61;Backbone.View.extend&#40;&#123;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MoviesView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.listenTo&#40;Backbone&#44;&quot;orderevent&quot;&#44;this.render&#41;&#125;&#44;moviesTemplate:_.template&#40;&#91;&quot;&lt;&#37; movies.each&#40;function&#40;movie&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; movieTemplate&#40;movie.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;this.movieTemplate&#61;new splat.MovieThumb&#44;this.collection.comparator&#61;function&#40;a&#41;&#123;return a.get&#40;splat.order&#41;.toLowerCase&#40;&#41;&#125;&#44;this.collection.sort&#40;&#41;;var a&#61;this.moviesTemplate&#40;&#123;movies:this.collection&#44;movieTemplate:this.movieTemplate.template&#125;&#41;;return &#36;&#40;this.el&#41;.html&#40;a&#41;&#44;this&#125;&#44;onClose:function&#40;&#41;&#123;this.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieForm&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;change .authattr&quot;:&quot;change&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;deleteMovie:function&#40;a&#41;&#123;this.model.isNew&#40;&#41;;return this.model.destroy&#40;&#123;data:JSON.stringify&#40;&#123;userid:this.model.get&#40;&quot;userid&quot;&#41;&#125;&#41;&#44;contentType:&quot;application/json&quot;&#44;wait:&#33;0&#44;success:function&#40;a&#44;b&#41;&#123;splat.app.navigate&#40;&quot;/movies&quot;&#44;&#123;replace:&#33;0&#44;trigger:&#33;0&#125;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&quot;&#44;&quot;Movie deleted&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#44;&#33;1&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;if&#40;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;&quot;starring&quot;&#61;&#61;&#61;a.target.name||&quot;genre&quot;&#61;&#61;&#61;a.target.name&#41;&#123;var c&#61;a.target.value.split&#40;&quot;&#44;&quot;&#41;;b&#91;a.target.name&#93;&#61;_.escape&#40;c&#41;&#125;this.model.set&#40;b&#41;;var d&#61;this.model.validateItem&#40;a.target.name&#41;;d.isValid?splat.utils.removeValidationError&#40;a.target.name&#41;:splat.utils.addValidationError&#40;a.target.name&#44;d.message&#41;&#44;splat.utils.showAlert&#40;&quot;Note&#33;&quot;&#44;&#39;Movie attribute updated; to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;&quot;alert-info&quot;&#41;&#125;&#44;beforeSave:function&#40;&#41;&#123;var a&#61;this&#44;b&#61;a.model.validateAll&#40;&#41;;return b.isValid&#61;&#61;&#61;&#33;1?&#40;splat.utils.displayValidationErrors&#40;b.messages&#41;&#44;&#33;1&#41;:void this.saveMovie&#40;&#41;&#125;&#44;saveMovie:function&#40;&#41;&#123;var a&#61;this.model.isNew&#40;&#41;;this.model.collection.create&#40;this.model&#44;&#123;wait:&#33;0&#44;success:function&#40;b&#44;c&#41;&#123;a&amp;&amp;&#40;splat.app.navigate&#40;&quot;movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#44;&#123;trigger:&#33;0&#44;replace:&#33;0&#125;&#41;&#44;b.reviews.url&#61;&quot;/movies/&quot;&#43;b.get&#40;&quot;_id&quot;&#41;&#43;&quot;/reviews&quot;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Movie saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.MovieImg&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.pictureFile&#61;null&#125;&#44;events:&#123;&quot;change .fileImage&quot;:&quot;selectImage&quot;&#44;&quot;drop #editImage&quot;:&quot;dropHandler&quot;&#44;&quot;dragover #editImage&quot;:&quot;dragoverHandler&quot;&#44;&quot;dragenter #editImage&quot;:&quot;dragenterHandler&quot;&#44;&quot;dragleave #editImage&quot;:&quot;dragleaveHandler&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;selectImage:function&#40;a&#41;&#123;this.pictureFile&#61;a.target.files&#91;0&#93;&#44;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;dragoverHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;&#44;a.originalEvent.dataTransfer.dropEffect&#61;&quot;copy&quot;&#125;&#44;dragenterHandler:function&#40;a&#41;&#123;var b&#61;a.originalEvent.dataTransfer.types;&#40;&#33;b||b.contains&amp;&amp;b.contains&#40;&quot;Files&quot;&#41;||b.indexOf&amp;&amp;-1&#33;&#61;&#61;b.indexOf&#40;&quot;Files&quot;&#41;&#41;&amp;&amp;&#36;&#40;&quot;#dropImage&quot;&#41;.addClass&#40;&quot;active&quot;&#41;&#125;&#44;dragleaveHandler:function&#40;a&#41;&#123;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;dropHandler:function&#40;a&#41;&#123;a.stopPropagation&#40;&#41;&#44;a.preventDefault&#40;&#41;;var b&#61;a.originalEvent;this.pictureFile&#61;b.dataTransfer.files&#91;0&#93;&#44;this.pictureFile&amp;&amp;this.pictureFile.type&amp;&amp;0&#61;&#61;&#61;this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41;?this.imageRead&#40;this.pictureFile&#44;this.pictureFile.type&#41;:this.showAlert&#40;&quot;Error&#33;&quot;&#44;&quot;Please select an image file&quot;&#44;&quot;alert-danger&quot;&#41;&#44;&#36;&#40;&quot;#dropImage&quot;&#41;.removeClass&#40;&quot;active&quot;&#41;&#125;&#44;imageRead:function&#40;a&#44;b&#41;&#123;var c&#61;this&#44;d&#61;new FileReader;d.onload&#61;function&#40;a&#41;&#123;c.resize&#40;d.result&#44;b&#44;&quot;0.90&quot;&#44;function&#40;a&#41;&#123;var b&#61;&#36;&#40;&quot;#editImage&quot;&#41;&#91;0&#93;;b.src&#61;a&#44;c.model.set&#40;&quot;poster&quot;&#44;a&#41;&#125;&#41;&#125;&#44;d.readAsDataURL&#40;a&#41;&#125;&#44;resize:function&#40;a&#44;b&#44;c&#44;d&#41;&#123;var b&#61;b||&quot;image/jpeg&quot;&#44;c&#61;c||&quot;0.95&quot;&#44;e&#61;new Image&#44;f&#61;300&#44;g&#61;450;e.onload&#61;function&#40;&#41;&#123;e.height*&#61;f/e.height&#44;e.width*&#61;g/e.width;var a&#61;document.createElement&#40;&quot;canvas&quot;&#41;;a.width&#61;e.width&#44;a.height&#61;e.height;var h&#61;a.getContext&#40;&quot;2d&quot;&#41;;h.drawImage&#40;e&#44;0&#44;0&#44;e.width&#44;e.height&#41;&#44;d&amp;&amp;d&#40;a.toDataURL&#40;b&#44;c&#41;&#41;&#125;&#44;e.src&#61;a&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Details&#61;Backbone.View.extend&#40;&#123;events:&#123;&quot;click #moviesave&quot;:&quot;beforeSave&quot;&#44;&quot;click #moviedel&quot;:&quot;deleteMovie&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this.formView&#61;new splat.MovieForm&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieform&quot;&#41;.append&#40;this.formView.render&#40;&#41;.el&#41;&#44;this.imgView&#61;new splat.MovieImg&#40;&#123;model:this.model&#125;&#41;&#44;this.&#36;&#40;&quot;#movieimg&quot;&#41;.append&#40;this.imgView.render&#40;&#41;.el&#41;&#44;this&#125;&#44;beforeSave:function&#40;&#41;&#123;this.formView.beforeSave&#40;&#41;&#125;&#44;deleteMovie:function&#40;&#41;&#123;this.formView.deleteMovie&#40;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.formView&amp;&amp;this.formView.remove&#40;&#41;&#44;this.imgView&amp;&amp;this.imgView.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.Reviewer&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;a&#41;&#123;this.model.bind&#40;&quot;destroy&quot;&#44;this.close&#44;this&#41;&#44;this.reviews&#61;this.collection&#44;this.model.collection&#61;this.collection&#125;&#44;events:&#123;&quot;change .reviewform&quot;:&quot;change&quot;&#44;&quot;click #reviewsave&quot;:&quot;saveReview&quot;&#125;&#44;render:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;this.model.toJSON&#40;&#41;&#41;&#41;&#44;this&#125;&#44;change:function&#40;a&#41;&#123;splat.utils.hideAlert&#40;&#41;;var b&#61;&#123;&#125;;b&#91;a.target.name&#93;&#61;_.escape&#40;a.target.value&#41;&#44;this.model.set&#40;b&#41;&#125;&#44;saveReview:function&#40;a&#41;&#123;var b&#61;this;b.reviews.create&#40;b.model&#44;&#123;wait:&#33;0&#44;success:function&#40;a&#44;c&#41;&#123;b.model&#61;new splat.Review&#44;b.model.collection&#61;b.reviews&#44;b.render&#40;&#41;&#44;splat.utils.showAlert&#40;&quot;Success&#33;&quot;&#44;&quot;Review saved&quot;&#44;&quot;alert-success&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.showAlert&#40;&quot;Error&quot;&#44;b.responseText&#44;&quot;alert-danger&quot;&#41;&#125;&#125;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewThumbs&#61;Backbone.View.extend&#40;&#123;reviewsTemplate:_.template&#40;&#91;&quot;&lt;&#37; reviews.each&#40;function&#40;review&#41; &#123; &#37;&gt;&quot;&#44;&quot;&lt;&#37;&#61; reviewTemplate&#40;review.toJSON&#40;&#41;&#41; &#37;&gt;&quot;&#44;&quot;&lt;&#37; &#125;&#41;; &#37;&gt;&quot;&#93;.join&#40;&quot;&quot;&#41;&#41;&#44;render:function&#40;&#41;&#123;if&#40;0&#61;&#61;&#61;this.collection.length&#41;this.&#36;el.prepend&#40;&quot;&lt;h3 style&#61;&#39;color:white&#39;&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;;else&#123;var a&#61;this;&#36;.get&#40;&quot;tpl/ReviewItem.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;&#44;d&#61;a.reviewsTemplate&#40;&#123;reviews:a.collection&#44;reviewTemplate:c&#125;&#41;;&#36;&#40;a.el&#41;.html&#40;d&#41;&#125;&#41;&#125;return this&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;splat.ReviewsView&#61;Backbone.View.extend&#40;&#123;initialize:function&#40;&#41;&#123;this.review||&#40;this.review&#61;new splat.Review&#44;this.review.set&#40;&quot;movieid&quot;&#44;this.model.get&#40;&quot;_id&quot;&#41;&#41;&#41;&#44;this.reviews&#61;this.collection&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.showScore&#41;&#44;this.listenTo&#40;this.reviews&#44;&quot;sync&quot;&#44;this.renderReviews&#41;&#125;&#44;render:function&#40;&#41;&#123;return this.renderContent&#40;&#41;.renderReviewer&#40;&#41;.renderReviews&#40;&#41;.showScore&#40;&#41;&#44;this&#125;&#44;renderContent:function&#40;&#41;&#123;return this.&#36;el.html&#40;this.template&#40;&#41;&#41;&#44;this&#125;&#44;renderReviewer:function&#40;&#41;&#123;return this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewerview&#61;new splat.Reviewer&#40;&#123;model:this.review&#44;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#myreview&quot;&#41;.append&#40;this.reviewerview.render&#40;&#41;.el&#41;&#44;this&#125;&#44;renderReviews:function&#40;&#41;&#123;return this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.reviewthumbs&#61;new splat.ReviewThumbs&#40;&#123;collection:this.collection&#125;&#41;&#44;this.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;this.reviewthumbs.render&#40;&#41;.el&#41;&#44;this&#125;&#44;showScore:function&#40;&#41;&#123;var a&#61;this;this.model.fetch&#40;&#123;success:function&#40;b&#44;c&#41;&#123;a.collection.length&gt;0?&#36;.get&#40;&quot;tpl/Score.html&quot;&#44;function&#40;b&#41;&#123;var c&#61;_.template&#40;b&#41;;a.&#36;&#40;&quot;#scoreView&quot;&#41;.html&#40;c&#40;a.model.toJSON&#40;&#41;&#41;&#41;&#125;&#41;:a.&#36;&#40;&quot;#scoreCount&quot;&#41;.html&#40;&quot;&lt;span&gt;... no reviews yet&lt;/span&gt;&quot;&#41;&#125;&#44;error:function&#40;a&#44;b&#41;&#123;splat.utils.requestFailed&#40;b&#41;&#125;&#125;&#41;&#125;&#44;onClose:function&#40;&#41;&#123;this.reviewerview&amp;&amp;this.reviewerview.remove&#40;&#41;&#44;this.reviewthumbs&amp;&amp;this.reviewthumbs.remove&#40;&#41;&#44;this.scoreview&amp;&amp;this.scoreview.remove&#40;&#41;&#125;&#125;&#41;;var splat&#61;splat||&#123;&#125;;Backbone.ajax&#61;function&#40;&#41;&#123;return Backbone.&#36;.ajaxSetup.call&#40;Backbone.&#36;&#44;&#123;beforeSend:function&#40;a&#41;&#123;console.log&#40;&quot;csrfToekn is: &quot;&#43;splat.csrftoken&#41;&#44;a.setRequestHeader&#40;&quot;X-CSRF-Token&quot;&#44;splat.csrftoken&#41;&#125;&#125;&#41;&#44;Backbone.&#36;.ajax.apply&#40;Backbone.&#36;&#44;arguments&#41;&#125;&#44;splat.AppRouter&#61;Backbone.Router.extend&#40;&#123;routes:&#123;&quot;&quot;:&quot;home&quot;&#44;about:&quot;about&quot;&#44;movies:&quot;browse&quot;&#44;&quot;movies/add&quot;:&quot;addMovie&quot;&#44;&quot;movies/:id&quot;:&quot;editMovie&quot;&#44;&quot;movies/:id/reviews&quot;:&quot;reviewMovie&quot;&#44;&quot;*default&quot;:&quot;defaultRoute&quot;&#125;&#44;defaultRoute:function&#40;&#41;&#123;this.home&#40;&#41;&#125;&#44;initialize:function&#40;&#41;&#123;splat.order&#61;&quot;title&quot;&#44;this.movies&#61;new splat.Movies&#44;this.moviesLoaded&#61;this.movies.fetch&#40;&#41;&#44;this.headerView&#61;new splat.Header&#44;&#36;&#40;&quot;.header&quot;&#41;.html&#40;this.headerView.render&#40;&#41;.el&#41;&#125;&#44;home:function&#40;&#41;&#123;this.homeView||&#40;this.homeView&#61;new splat.Home&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.homeView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;home-menu&quot;&#41;&#125;&#44;about:function&#40;&#41;&#123;this.aboutView||&#40;this.aboutView&#61;new splat.About&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;this.aboutView&#41;&#44;this.headerView.selectMenuItem&#40;&quot;about-menu&quot;&#41;&#125;&#44;browse:function&#40;&#41;&#123;var a&#61;this;this.moviesBrowse&#61;this.movies.fetch&#40;&#41;&#44;this.moviesBrowse.done&#40;function&#40;&#41;&#123;splat.moviesView&#61;new splat.MoviesView&#40;&#123;collection:a.movies&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;splat.moviesView&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;browse-menu&quot;&#41;&#125;&#44;editMovie:function&#40;a&#41;&#123;var b&#61;this;this.editFetch&#61;this.movies.fetch&#40;&#41;&#44;this.editFetch.done&#40;function&#40;&#41;&#123;b.movieView&#40;a&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&#41;&#125;&#44;movieView:function&#40;a&#41;&#123;var b&#61;this.movies.get&#40;a&#41;;if&#40;b&#41;&#123;var c&#61;new splat.Details&#40;&#123;model:b&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;c&#41;&#125;else splat.utils.showAlert&#40;&quot;Error&quot;&#44;&quot;can&#39;t find this movie &#40;perhaps deleted?&#41;&quot;&#44;&quot;alert-danger&quot;&#41;&#125;&#44;addMovie:function&#40;&#41;&#123;var a&#61;new splat.Movie;a.collection&#61;this.movies&#44;this.moviesLoaded.done&#40;function&#40;&#41;&#123;var b&#61;new splat.Details&#40;&#123;model:a&#125;&#41;;splat.app.showView&#40;&quot;#content&quot;&#44;b&#41;&#125;&#41;&#44;this.headerView.selectMenuItem&#40;&quot;add-menu&quot;&#41;&#125;&#44;reviewMovie:function&#40;a&#41;&#123;var b&#61;this;this.moviesLoaded.done&#40;function&#40;&#41;&#123;if&#40;a&#41;&#123;var c&#61;b.movies.get&#40;a&#41;;c.reviews.fetch&#40;&#123;silent:&#33;0&#44;success:function&#40;a&#44;d&#41;&#123;b.reviewsView&#61;new splat.ReviewsView&#40;&#123;model:c&#44;collection:a&#125;&#41;&#44;splat.app.showView&#40;&quot;#content&quot;&#44;b.reviewsView&#41;&#125;&#125;&#41;&#125;else b.&#36;&#40;&quot;#reviews&quot;&#41;.html&#40;&quot;&lt;h3&gt;No Reviews Yet&lt;/h3&gt;&quot;&#41;&#125;&#41;&#125;&#44;showView:function&#40;a&#44;b&#41;&#123;return this.currentView&amp;&amp;this.currentView.close&#40;&#41;&#44;&#36;&#40;a&#41;.html&#40;b.render&#40;&#41;.el&#41;&#44;this.currentView&#125;&#125;&#41;&#44;Backbone.View.prototype.close&#61;function&#40;&#41;&#123;this.onClose&amp;&amp;this.onClose&#40;&#41;&#44;this.remove&#40;&#41;&#44;this.unbind&#40;&#41;&#125;&#44;splat.utils.loadTemplates&#40;&#91;&quot;Home&quot;&#44;&quot;Header&quot;&#44;&quot;About&quot;&#44;&quot;MovieThumb&quot;&#44;&quot;Details&quot;&#44;&quot;MovieForm&quot;&#44;&quot;MovieImg&quot;&#44;&quot;Reviewer&quot;&#44;&quot;ReviewsView&quot;&#44;&quot;Signup&quot;&#44;&quot;Signin&quot;&#93;&#44;function&#40;&#41;&#123;splat.app&#61;new splat.AppRouter&#44;Backbone.history.start&#40;&#41;&#125;&#41;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="danger">
    <td class="text-center">E043</td>
    <td class="text-center">2</td>
    <td class="text-center">3918</td>
    <td><code>undefined</code></td>
    <td>Too many errors. &#40;100&#37; scanned&#41;.</td>
</tr><tr><td colspan="5"><b>js/utils.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">45</td>
    <td class="text-center">27</td>
    <td><code>            var formGroup &#61; &#36;&#40;&quot;input&#91;name&#61;&#39;&quot; &#43; field &#43; &quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;</code></td>
    <td>&#39;formGroup&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">46</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">47</td>
    <td class="text-center">9</td>
    <td><code>        formGroup.addClass&#40;&#39;has-error&#39;&#41;;  // was &#39;error&#39; in Bootstrap 2</code></td>
    <td>&#39;formGroup&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">48</td>
    <td class="text-center">26</td>
    <td><code>        &#36;&#40;&#39;.help-block&#39;&#44; formGroup&#41;.html&#40;message&#41;;</code></td>
    <td>&#39;formGroup&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">55</td>
    <td class="text-center">27</td>
    <td><code>            var formGroup &#61; &#36;&#40;&quot;input&#91;name&#61;&#39;&quot; &#43; field &#43; &quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;</code></td>
    <td>&#39;formGroup&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">56</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">57</td>
    <td class="text-center">9</td>
    <td><code>        formGroup.removeClass&#40;&#39;has-error&#39;&#41;;  // was &#39;error&#39; in Bootstrap 2</code></td>
    <td>&#39;formGroup&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W038</td>
    <td class="text-center">58</td>
    <td class="text-center">26</td>
    <td><code>        &#36;&#40;&#39;.help-block&#39;&#44; formGroup&#41;.html&#40;&#39;&#39;&#41;;</code></td>
    <td>&#39;formGroup&#39; used out of scope.</td>
</tr><tr class="warning">
    <td class="text-center">W117</td>
    <td class="text-center">99</td>
    <td class="text-center">24</td>
    <td><code>        var data &#61; new FormData&#40;&#41;;</code></td>
    <td>&#39;FormData&#39; is not defined.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">45</td>
    <td class="text-center">17</td>
    <td><code>            var formGroup &#61; &#36;&#40;&quot;input&#91;name&#61;&#39;&quot; &#43; field &#43; &quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;</code></td>
    <td>&#39;formGroup&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">55</td>
    <td class="text-center">17</td>
    <td><code>            var formGroup &#61; &#36;&#40;&quot;input&#91;name&#61;&#39;&quot; &#43; field &#43; &quot;&#39;&#93;&quot;&#41;.parent&#40;&#41;;</code></td>
    <td>&#39;formGroup&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/about.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/views/details.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">13</td>
    <td class="text-center">9</td>
    <td><code>	var self &#61; this;</code></td>
    <td>&#39;self&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/header.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">7</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">104</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">71</td>
    <td class="text-center">25</td>
    <td><code>    signedOut: function&#40;model&#41; &#123;</code></td>
    <td>&#39;model&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/home.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/views/movie.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr><td colspan="5"><b>js/views/movieform.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">29</td>
    <td class="text-center">81</td>
    <td><code>              splat.utils.showAlert&#40;&#39;Success&#39;&#44; &quot;Movie deleted&quot;&#44; &#39;alert-success&#39;&#41;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">57</td>
    <td class="text-center">78</td>
    <td><code>            : splat.utils.addValidationError&#40;event.target.name&#44; check.message&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W014</td>
    <td class="text-center">60</td>
    <td class="text-center">9</td>
    <td><code>		&#43; &#39;to make changes permanent&#44; click &quot;Save Changes&quot; button&#39;&#44;</code></td>
    <td>Bad line breaking before &#39;&#43;&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">71</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">87</td>
    <td class="text-center">10</td>
    <td><code>		&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">20</td>
    <td class="text-center">13</td>
    <td><code>        var isnew &#61; this.model.isNew&#40;&#41;;   // newly added model</code></td>
    <td>&#39;isnew&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">19</td>
    <td class="text-center">27</td>
    <td><code>    deleteMovie: function&#40;event&#41; &#123;</code></td>
    <td>&#39;event&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">27</td>
    <td class="text-center">38</td>
    <td><code>            success: function&#40;model&#44; resp&#41; &#123;</code></td>
    <td>&#39;resp&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">27</td>
    <td class="text-center">31</td>
    <td><code>            success: function&#40;model&#44; resp&#41; &#123;</code></td>
    <td>&#39;model&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">79</td>
    <td class="text-center">38</td>
    <td><code>            success: function&#40;model&#44; response&#41; &#123;</code></td>
    <td>&#39;response&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/movieimg.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">35</td>
    <td class="text-center">6</td>
    <td><code>	&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W014</td>
    <td class="text-center">49</td>
    <td class="text-center">9</td>
    <td><code>	    || &#40;types.indexOf &amp;&amp; types.indexOf&#40;&quot;Files&quot;&#41; &#33;&#61;&#61; -1&#41;&#41; &#123;</code></td>
    <td>Bad line breaking before &#39;||&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W014</td>
    <td class="text-center">67</td>
    <td class="text-center">9</td>
    <td><code>		&amp;&amp; this.pictureFile.type.indexOf&#40;&quot;image&quot;&#41; &#61;&#61;&#61; 0&#41; &#123;</code></td>
    <td>Bad line breaking before &#39;&amp;&amp;&#39;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">72</td>
    <td class="text-center">6</td>
    <td><code>	&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">100</td>
    <td class="text-center">14</td>
    <td><code>	var type &#61; type || &quot;image/jpeg&quot;;   // default MIME image type</code></td>
    <td>&#39;type&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W004</td>
    <td class="text-center">101</td>
    <td class="text-center">21</td>
    <td><code>    	var quality &#61; quality || &quot;0.95&quot;;  // tradeoff of quality vs size</code></td>
    <td>&#39;quality&#39; is already defined.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">113</td>
    <td class="text-center">10</td>
    <td><code>	    &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W117</td>
    <td class="text-center">83</td>
    <td class="text-center">26</td>
    <td><code>        var reader &#61; new FileReader&#40;&#41;;</code></td>
    <td>&#39;FileReader&#39; is not defined.</td>
</tr><tr class="warning">
    <td class="text-center">W117</td>
    <td class="text-center">102</td>
    <td class="text-center">25</td>
    <td><code>    	var image &#61; new Image&#40;&#41;&#44; MAX_HEIGHT &#61; 300&#44; MAX_WIDTH &#61; 450;</code></td>
    <td>&#39;Image&#39; is not defined.</td>
</tr><tr class="warning">
    <td class="text-center">W117</td>
    <td class="text-center">106</td>
    <td class="text-center">26</td>
    <td><code>    	    var canvas &#61; document.createElement&#40;&quot;canvas&quot;&#41;; </code></td>
    <td>&#39;document&#39; is not defined.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">54</td>
    <td class="text-center">32</td>
    <td><code>    dragleaveHandler: function&#40;event&#41; &#123;</code></td>
    <td>&#39;event&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">84</td>
    <td class="text-center">34</td>
    <td><code>        reader.onload &#61; function&#40;event&#41; &#123;</code></td>
    <td>&#39;event&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/movies.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">9</td>
    <td class="text-center">27</td>
    <td><code>    initialize: function &#40;options&#41; &#123;</code></td>
    <td>&#39;options&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/reviewer.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">8</td>
    <td class="text-center">27</td>
    <td><code>    initialize: function &#40;options&#41; &#123;</code></td>
    <td>&#39;options&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">35</td>
    <td class="text-center">26</td>
    <td><code>    saveReview: function&#40;event&#41; &#123;</code></td>
    <td>&#39;event&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">39</td>
    <td class="text-center">38</td>
    <td><code>            success: function&#40;model&#44; response&#41; &#123;</code></td>
    <td>&#39;response&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">39</td>
    <td class="text-center">31</td>
    <td><code>            success: function&#40;model&#44; response&#41; &#123;</code></td>
    <td>&#39;model&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/reviewsview.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">12</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">33</td>
    <td class="text-center">6</td>
    <td><code>	&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">45</td>
    <td class="text-center">6</td>
    <td><code>	&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">76</td>
    <td class="text-center">60</td>
    <td><code>        if &#40;this.reviewerview&#41; &#123; this.reviewerview.remove&#40;&#41; &#125;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">76</td>
    <td class="text-center">62</td>
    <td><code>        if &#40;this.reviewerview&#41; &#123; this.reviewerview.remove&#40;&#41; &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">77</td>
    <td class="text-center">60</td>
    <td><code>        if &#40;this.reviewthumbs&#41; &#123; this.reviewthumbs.remove&#40;&#41; &#125;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">77</td>
    <td class="text-center">62</td>
    <td><code>        if &#40;this.reviewthumbs&#41; &#123; this.reviewthumbs.remove&#40;&#41; &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W033</td>
    <td class="text-center">78</td>
    <td class="text-center">54</td>
    <td><code>        if &#40;this.scoreview&#41; &#123; this.scoreview.remove&#40;&#41; &#125;;</code></td>
    <td>Missing semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">78</td>
    <td class="text-center">56</td>
    <td><code>        if &#40;this.scoreview&#41; &#123; this.scoreview.remove&#40;&#41; &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">58</td>
    <td class="text-center">34</td>
    <td><code>	    success: function&#40;model&#44; response&#41; &#123;</code></td>
    <td>&#39;response&#39; is defined but never used.</td>
</tr><tr class="warning">
    <td class="text-center">W098</td>
    <td class="text-center">58</td>
    <td class="text-center">27</td>
    <td><code>	    success: function&#40;model&#44; response&#41; &#123;</code></td>
    <td>&#39;model&#39; is defined but never used.</td>
</tr><tr><td colspan="5"><b>js/views/reviewthumbs.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">29</td>
    <td class="text-center">6</td>
    <td><code>	&#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr><tr><td colspan="5"><b>js/views/signin.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">40</td>
    <td class="text-center">74</td>
    <td><code>            : splat.utils.addValidationError&#40;e.target.name&#44; check.message&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">49</td>
    <td class="text-center">72</td>
    <td><code>            : splat.utils.addValidationError&#40;&#39;username&#39;&#44; checku.message&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">53</td>
    <td class="text-center">72</td>
    <td><code>            : splat.utils.addValidationError&#40;&#39;password&#39;&#44; checkp.message&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr><td colspan="5"><b>js/views/signup.js</b></td></tr><tr class="warning">
    <td class="text-center">W097</td>
    <td class="text-center">1</td>
    <td class="text-center">1</td>
    <td><code>&quot;use strict&quot;;</code></td>
    <td>Use the function form of &quot;use strict&quot;.</td>
</tr><tr class="warning">
    <td class="text-center">W030</td>
    <td class="text-center">60</td>
    <td class="text-center">74</td>
    <td><code>            : splat.utils.addValidationError&#40;e.target.name&#44; check.message&#41;;</code></td>
    <td>Expected an assignment or function call and instead saw an expression.</td>
</tr><tr class="warning">
    <td class="text-center">W032</td>
    <td class="text-center">71</td>
    <td class="text-center">10</td>
    <td><code>        &#125;;</code></td>
    <td>Unnecessary semicolon.</td>
</tr>
    </table>
    <div class="well">
    Found <span class="label label-default">135</span> failures - <span class="label label-danger">1 errors</span> &amp; <span class="label label-warning">134 warnings</span>
</div>
</div>

</body>
</html>
